# =============================================================================
# VORTEX-7 Trading Bot — Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# All values shown are defaults used if the variable is missing.

# === Exchange Credentials ===
BINANCE_API_KEY=your_api_key_here
BINANCE_API_SECRET=your_api_secret_here
BINANCE_USE_TESTNET=true

# Custom Base URL Override (optional, auto-set by ccxt)
BINANCE_FUTURES_REST_URL=https://testnet.binancefuture.com
BINANCE_FUTURES_WS_URL=wss://fstream.binancefuture.com

# === Trading Pairs ===
# Comma-separated list of USDT-margined futures pairs
TRADING_PAIRS=BTCUSDT,ETHUSDT,BNBUSDT,SOLUSDT

# === Capital & Risk ===
BASE_BALANCE=100

# Leverage range — Kelly Criterion calculates optimal within this range
# Kelly uses: f* = (p*b - q) / b where p=win_prob, b=payoff_ratio
# Quarter-Kelly is applied for safety (75% variance reduction)
MIN_LEVERAGE=10
MAX_LEVERAGE=30

# Base risk per trade (Kelly adjusts this based on confidence)
RISK_PER_TRADE=0.01

# === Fee & Slippage Model ===
# Post-only (GTX) limit orders get maker fee ~0.02-0.04%
# Taker fee: 0.05% (reduced with BNB)
EXCHANGE_TAKER_FEE=0.0004
SLIPPAGE_BUFFER=0.0003
MIN_RR_RATIO=0.8

# === Engine Sensitivities ===
# E1: Order book imbalance threshold (lower = more sensitive)
E1_IMBALANCE_THRESHOLD=0.12
# E2: Tick aggressor ratio threshold (0.5 = balanced, 0.55 = mild bias)
E2_MOMENTUM_THRESHOLD=0.55
# E4: Funding rate threshold for sentiment signal
E4_FUNDING_RATE_THRESHOLD=0.00015

# === Decision Engine Predictive Filters ===
# VPIN: Volume-synchronized probability of informed trading (0-1)
DECISION_VPIN_MIN=0.30
# OFI Velocity: Order flow imbalance rate of change
DECISION_OFI_VELOCITY_MIN=1.2
# Multi-timeframe alignment: 1s/5s/15s consensus (0-1)
DECISION_ALIGNMENT_MIN=0.30

# === Strategy Scoring ===
# Minimum weighted engine score to consider a trade
STRAT_MIN_SCORE=0.05
# Minimum number of engines agreeing on direction (1-4)
STRAT_AGREEMENT_REQ=1

# === Strategy A — Momentum Breakout ===
# velocity_ratio: 1s momentum vs 5s baseline (>1 = accelerating)
STRATA_V_RAT_TRIGGER=1.3
# streak: consecutive same-direction ticks in 1s window
STRATA_STREAK_TRIGGER=3
# spike_ratio: current vs average volume (>2 = volume spike)
STRATA_S_RAT_TRIGGER=1.8

# === Strategy B — Mean Reversion ===
# RSI below lower or above upper triggers reversal signal
STRATB_RSI_LOWER=35
STRATB_RSI_UPPER=65

# === Strategy C — Liquidation Scalp ===
# OI + funding rate liquidation proximity proxy (0-1)
STRATC_LIQ_PROXIMITY=0.30
STRATC_S_RAT_TRIGGER=1.5

# === Infrastructure ===
REDIS_HOST=localhost
REDIS_PORT=6379
SUPABASE_URL=
SUPABASE_KEY=
DB_LOG_INTERVAL=300

# === Notifications (optional) ===
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# === Dashboard ===
DASHBOARD_SECRET=password
